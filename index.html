<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday, Amilatus</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- VARIABLES & RESET --- */
        :root {
            --bg-gradient: linear-gradient(125deg, #a18cd1 0%, #fbc2eb 100%);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.5);
            --text-main: #2d3436;
            --text-sub: #636e72;
            --primary-btn: #ffffff;
            --btn-text: #6c5ce7;
            --font-main: 'Poppins', sans-serif;
            --transition-speed: 0.6s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            /* Prevents blue highlight on tap on Android */
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            /* Fix for mobile address bar jumps */
            height: 100dvh; 
            overflow: hidden; /* STRICTLY prevent scrolling */
            position: fixed; /* Locks the body in place */
        }

        body {
            font-family: var(--font-main);
            background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #a18cd1, #fbc2eb);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- BACKGROUND DECORATION (BLOBS) --- */
        .blobs {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(50px);
            opacity: 0.6;
            animation: floatBlob 10s infinite alternate ease-in-out;
        }

        .blob-1 { top: 10%; left: 10%; width: 300px; height: 300px; background: #ff9ff3; animation-duration: 12s; }
        .blob-2 { bottom: 20%; right: 10%; width: 250px; height: 250px; background: #54a0ff; animation-duration: 15s; }
        .blob-3 { top: 40%; left: 60%; width: 200px; height: 200px; background: #5f27cd; animation-duration: 18s; }

        @keyframes floatBlob {
            0% { transform: translate(0, 0); }
            100% { transform: translate(30px, 50px); }
        }

        /* --- MUSIC CONTROLLER --- */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000; /* Extremely high z-index to stay on top */
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            color: #6c5ce7;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            /* Prevents double-tap zoom on mobile */
            touch-action: manipulation; 
        }

        .music-control:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.8);
        }

        /* --- GLASSMORPHISM CARD --- */
        .card-container {
            position: relative;
            z-index: 10;
            width: 90%;
            max-width: 550px; 
            /* Use dvh for height to fit mobile screens perfectly without scroll */
            height: 60dvh; 
            min-height: 450px; 
            display: flex;
            justify-content: center;
            align-items: center;
        }

        section {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 3rem; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            opacity: 0;
            visibility: hidden;
            transform: scale(0.95);
            transition: all var(--transition-speed) cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        section.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        section.exit {
            opacity: 0;
            transform: scale(1.05);
            filter: blur(10px);
            transition: all 0.5s ease-in;
        }

        /* --- TYPOGRAPHY --- */
        h1 {
            font-size: 2.5rem; 
            font-weight: 600;
            margin-bottom: 1.2rem;
            line-height: 1.2;
            color: #2d3436;
        }

        h2 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        p {
            font-size: 1.25rem; 
            color: var(--text-sub);
            line-height: 1.6;
            margin-bottom: 1.8rem;
            font-weight: 400;
        }

        .subtext {
            font-size: 1rem; 
            opacity: 0.9;
            margin-top: -10px;
            margin-bottom: 2.5rem;
            display: block;
            color: #555;
        }

        .highlight {
            color: #6c5ce7;
            font-weight: 600;
        }

        /* --- BUTTONS --- */
        .btn {
            background: var(--primary-btn);
            color: var(--btn-text);
            border: none;
            padding: 16px 40px; 
            font-size: 1.1rem; 
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-family: var(--font-main);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            /* Prevents zoom issues on mobile */
            touch-action: manipulation;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: scale(0.95);
        }

        /* --- SECTION SPECIFIC ANIMATIONS --- */
        .stagger-text span {
            display: block;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        section.active .stagger-text span:nth-child(1) { transition-delay: 0.2s; opacity: 1; transform: translateY(0); }
        section.active .stagger-text span:nth-child(2) { transition-delay: 0.5s; opacity: 1; transform: translateY(0); }
        section.active .stagger-text span:nth-child(3) { transition-delay: 0.8s; opacity: 1; transform: translateY(0); }
        section.active .stagger-text span:nth-child(4) { transition-delay: 1.1s; opacity: 1; transform: translateY(0); }

        .icon-btn {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            font-size: 2.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            background: white;
            color: #fab1a0;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: none;
            margin: 0 auto;
            touch-action: manipulation;
        }

        .icon-btn:hover {
            transform: scale(1.1) rotate(10deg);
        }

        .hidden-content {
            display: none;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        @keyframes fadeIn { to { opacity: 1; } }

        /* Confetti Burst */
        .confetti-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            pointer-events: none;
            z-index: 20; /* Ensure confetti is visible */
        }
        
        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffd700;
            opacity: 0;
        }

        .burst .confetti-piece {
            animation: burstOut 0.8s ease-out forwards;
        }

        .c1 { top: 0; left: 0; background: #ff7675; --x: -60px; --y: -60px; }
        .c2 { top: 0; left: 0; background: #74b9ff; --x: 60px; --y: -60px; }
        .c3 { top: 0; left: 0; background: #55efc4; --x: -60px; --y: 60px; }
        .c4 { top: 0; left: 0; background: #a29bfe; --x: 60px; --y: 60px; }
        .c5 { top: 0; left: 0; background: #fdcb6e; --x: 0px; --y: -80px; }
        .c6 { top: 0; left: 0; background: #e17055; --x: 0px; --y: 80px; }
        .c7 { top: 0; left: 0; background: #00b894; --x: -80px; --y: 0px; }
        .c8 { top: 0; left: 0; background: #d63031; --x: 80px; --y: 0px; }

        @keyframes burstOut {
            0% { opacity: 1; transform: translate(0,0) scale(1); }
            100% { opacity: 0; transform: translate(var(--x), var(--y)) scale(0.5); }
        }

        .footer-sig {
            margin-top: 2.5rem;
            font-family: 'cursive', sans-serif; 
            font-size: 1.3rem; 
            color: #6c5ce7;
            opacity: 0.9;
        }

        /* --- MOBILE RESPONSIVE TWEAKS --- */
        @media (max-width: 600px) {
            .card-container {
                width: 92%;
                min-height: 400px; /* Reduced min-height to fit smaller screens */
            }

            section {
                padding: 1.5rem; /* Less padding on mobile */
            }

            h1 { font-size: 2rem; }
            h2 { font-size: 1.6rem; }
            p { font-size: 1.1rem; line-height: 1.5; margin-bottom: 1.2rem; }
            
            .btn {
                padding: 12px 30px;
                font-size: 1rem;
            }

            .music-control {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
            }
        }
    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <button class="music-control" id="music-btn" onclick="toggleMusic()">
        <i class="fa-solid fa-music"></i>
    </button>

    <div class="blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <div class="card-container">

        <section id="s1" class="active">
            <h1>Happy Birthday,<br>Amilatus</h1>
            <p>I wanted to do something small,<br>just to make today feel a little different.</p>
            <span class="subtext">No pressure. No big speech. Just a page.</span>
            <button class="btn" onclick="startExperience()">
                Start <i class="fa-solid fa-arrow-right"></i>
            </button>
        </section>

        <section id="s2">
            <div class="stagger-text">
                <p>
                    <span>You’re easy to talk to,</span>
                    <span>fun to tease,</span>
                    <span>and you make conversations feel calm.</span>
                </p>
                <p>
                    <span class="highlight">That’s not something you find everywhere.</span>
                </p>
            </div>
            <button class="btn" style="margin-top: 1rem;" onclick="nextSection('s2', 's3')">
                Next <i class="fa-solid fa-chevron-right"></i>
            </button>
        </section>

        <section id="s3">
            <h2 id="s3-title">Small test.</h2>
            <p id="s3-text">Click the button if you’re smiling right now.</p>
            
            <div class="confetti-wrapper" id="confetti-sys">
                <div class="confetti-piece c1"></div>
                <div class="confetti-piece c2"></div>
                <div class="confetti-piece c3"></div>
                <div class="confetti-piece c4"></div>
                <div class="confetti-piece c5"></div>
                <div class="confetti-piece c6"></div>
                <div class="confetti-piece c7"></div>
                <div class="confetti-piece c8"></div>
            </div>

            <button class="icon-btn" id="smile-btn" onclick="triggerSmile()">
                <i class="fa-regular fa-face-smile"></i>
            </button>

            <div id="s3-hidden" class="hidden-content">
                <p style="margin-top: 2rem;">Okay, good.<br>That definitely counts.</p>
                <button class="btn" onclick="nextSection('s3', 's4')">Next</button>
            </div>
        </section>

        <section id="s4">
            <p style="font-size: 1.3rem; font-weight: 500;">
                I hope today gives you<br>good moments,<br>kind people,<br>and some quiet happiness.
            </p>
            <span class="subtext">Even the small kind.</span>
            <button class="btn" onclick="nextSection('s4', 's5')">
                One last thing <i class="fa-solid fa-star"></i>
            </button>
        </section>

        <section id="s5">
            <h1>That’s it.</h1>
            <p>No big speech.<br>No dramatic ending.</p>
            <p class="highlight" style="font-size: 1.25rem;">Just wishing you a really good birthday.</p>
            <div class="footer-sig">— Subham</div>

            <button class="btn" 
                    style="margin-top: 2.5rem; background: rgba(255,255,255,0.4); color: #2d3436; font-size: 1rem; padding: 12px 28px;" 
                    onclick="restartSite()">
                Replay <i class="fa-solid fa-rotate-left"></i>
            </button>
        </section>

    </div>

    <script>
        // Music Configuration
        const music = document.getElementById('bg-music');
        const musicBtn = document.getElementById('music-btn');
        let isPlaying = false;

        // Set volume low for "cozy" vibe
        music.volume = 0.6; 

        // Special Start Function (Triggers Music + Section Transition)
        function startExperience() {
            // Try to play music
            music.play().then(() => {
                isPlaying = true;
                musicBtn.innerHTML = '<i class="fa-solid fa-volume-high"></i>';
            }).catch(error => {
                console.log("Auto-play prevented by browser, waiting for manual toggle.");
                isPlaying = false;
                musicBtn.innerHTML = '<i class="fa-solid fa-volume-xmark"></i>';
            });

            // Move to Section 2
            nextSection('s1', 's2');
        }

        // Toggle Music Manually
        function toggleMusic() {
            if (isPlaying) {
                music.pause();
                musicBtn.innerHTML = '<i class="fa-solid fa-volume-xmark"></i>';
                isPlaying = false;
            } else {
                music.play();
                musicBtn.innerHTML = '<i class="fa-solid fa-volume-high"></i>';
                isPlaying = true;
            }
        }

        // Smooth Section Transition
        function nextSection(currentId, nextId) {
            const current = document.getElementById(currentId);
            const next = document.getElementById(nextId);

            current.classList.add('exit');
            current.classList.remove('active');

            setTimeout(() => {
                next.classList.add('active');
                current.classList.remove('exit');
            }, 500); 
        }

        // Section 3 Interaction
        function triggerSmile() {
            const btn = document.getElementById('smile-btn');
            const hiddenArea = document.getElementById('s3-hidden');
            const title = document.getElementById('s3-title');
            const text = document.getElementById('s3-text');
            const confetti = document.getElementById('confetti-sys');

            btn.style.transform = "scale(1.2)";
            btn.style.backgroundColor = "#ffeaa7";
            btn.innerHTML = '<i class="fa-solid fa-face-grin-wink" style="color: #d63031"></i>';

            confetti.classList.add('burst');

            title.style.opacity = '0';
            text.style.opacity = '0';
            
            setTimeout(() => {
                title.style.display = 'none';
                text.style.display = 'none';
                btn.style.display = 'none'; 
                hiddenArea.style.display = 'block';
            }, 600);
        }

        // Restart Logic
        function restartSite() {
            const current = document.getElementById('s5');
            const next = document.getElementById('s1');

            current.classList.add('exit');
            current.classList.remove('active');

            setTimeout(() => {
                next.classList.add('active');
                current.classList.remove('exit'); 
                resetGame();
            }, 500);
        }

        function resetGame() {
            const btn = document.getElementById('smile-btn');
            const hiddenArea = document.getElementById('s3-hidden');
            const title = document.getElementById('s3-title');
            const text = document.getElementById('s3-text');
            const confetti = document.getElementById('confetti-sys');

            btn.style = ""; 
            btn.innerHTML = '<i class="fa-regular fa-face-smile"></i>';
            
            title.style.display = 'block';
            title.style.opacity = '1';
            text.style.display = 'block';
            text.style.opacity = '1';

            hiddenArea.style.display = 'none';
            confetti.classList.remove('burst');
        }
    </script>
</body>
</html>
